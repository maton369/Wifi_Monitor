## WiFi混雑度モニター（SD_PBL）

大学キャンパス内のWiFi環境は、**時間帯**や**場所**によって速度・遅延が大きく変動します。本アプリは、ブラウザ上で取得できるネットワーク情報を記録・集計し、**混雑状況を可視化**して「快適に使える時間帯」を見つけるためのツールです。

---

## プロジェクト概要

- **プロジェクト名**: WiFi混雑度モニター  
- **目的**: 大学生活の質向上のため、WiFiの混雑状況を可視化し最適な利用時間帯を提案する  
- **対象**: SD_PBL（大学プロジェクト）  
- **開発**: HTML / CSS / JavaScript（Vanilla JS, ES6+）  
- **データ保存**: 端末内（`localStorage`）のみ（サーバー送信なし）

---

## 主な機能

### 1) リアルタイムWiFi測定（定期記録）
- **自動測定**: 5分ごとにデータを記録（想定）
- **記録項目**:
  - ダウンロード速度（Mbps）
  - RTT（遅延 / ms）
  - 接続タイプ（`slow-2g` / `2g` / `3g` / `4g` 等）
  - 混雑度スコア（0–100%）

### 2) WiFi別データ管理
- 複数のWiFi（場所）を手動で登録し、ネットワーク別に履歴・統計を保持
- ドロップダウンで簡単に切り替え

### 3) 時間帯別混雑ヒートマップ
- **曜日 × 24時間**のマトリクスで、傾向を一目で把握
- 色分け例（混雑度）:
  - 緑: 0–20%（快適）
  - 黄: 40–60%（普通）
  - 赤: 80–100%（混雑）

### 4) 統計分析とレコメンデーション
- 測定回数、平均混雑度・平均速度・平均RTT、最速/最低などを集計
- **おすすめ時間帯TOP5** / **避けるべき時間帯TOP5** を提示

### 5) 測定履歴
- 最新20件の測定データを一覧表示（日時、曜日、速度、RTT、混雑度）

### 6) データ永続化
- `localStorage` に自動保存
- 最大1000件を保持（想定）
- WiFi別にデータクリア可能

---

## 使い方（運用手順）

### 前提
- 本アプリはブラウザで動作します。**インストール不要**です。
- WiFi SSIDはブラウザの制約上、自動取得できません。**WiFi名（場所名）を手動入力**して運用します。

### 起動
- `index.html` を対応ブラウザで開きます（ローカルでOK）。

### 基本運用
- WiFi（場所）を追加 → 選択
- 測定開始（自動記録）
- データが溜まるほどヒートマップ・推薦の精度が上がります

---

## 技術仕様

### 使用技術
- **フロントエンド**: HTML5 / CSS3 / JavaScript（Vanilla JS）
- **Web API**: Network Information API（`navigator.connection`）
- **ストレージ**: `localStorage`
- **レイアウト**: CSS Grid / Flexbox

### データ構造（例）

```javascript
{
  timestamp: "2025-12-17T10:30:00.000Z",
  wifiName: "大学WiFi_図書館",
  dayOfWeek: 2,              // 0=日曜, 1=月曜, ..., 6=土曜
  hour: 10,                  // 0-23
  effectiveType: "4g",       // slow-2g, 2g, 3g, 4g
  downlink: 5.2,             // Mbps
  rtt: 150,                  // ms
  congestion: 45             // 0-100%
}
```

---

## 混雑度スコアの算出（アルゴリズム）

速度とRTTから各50点満点でスコア化し、合計点を100から減算して混雑度（0–100%）を求めます。

- **混雑度 = 100 - (速度スコア + RTTスコア)**

### 速度スコア（最大50点）
- 5 Mbps以上: 50点
- 2–5 Mbps: 30点
- 1–2 Mbps: 15点
- 1 Mbps未満: 5点

### RTTスコア（最大50点）
- 100 ms以下: 50点
- 100–200 ms: 30点
- 200–400 ms: 15点
- 400 ms以上: 5点

---

## 推奨環境・対応ブラウザ

- **推奨ブラウザ**: Chrome 最新版
- **対応**: Chrome / Edge / Opera（Chromium系）
- **非対応・制限**:
  - Safari: Network Information API未対応
  - Firefox: 一部対応（取得項目が制限される可能性）

---

## 制限事項（重要）

- **SSIDの自動取得は不可**: セキュリティ制約により、ブラウザAPIでWiFi名を取得できません（手動入力で運用）。
- **混雑の推定には誤差**: 速度低下は混雑以外（距離、干渉、障害物等）の影響も受けます。  
  → 長期間のデータ蓄積で傾向を把握する前提です。

---

## セキュリティ・プライバシー

- **完全にローカル**: 収集データはブラウザ内（`localStorage`）に保存
- **サーバー送信なし**: 外部への送信は行いません
- **個人情報不要**: ログイン等なし

---

## ディレクトリ構成（例）

```
wifi-congestion-analyzer/
├── index.html            # メインUI（アプリ本体）
├── app.js                # アプリケーションロジック
├── PROJECT_OVERVIEW.md   # 仕様・背景（プロジェクト概要）
└── README.md             # 使い方・技術概要（本ドキュメント）
```

---

## 今後の拡張案

- CSV/JSONエクスポート
- 複数WiFiの同時比較（ヒートマップ並列）
- ブラウザ通知（快適な時間帯になったら通知）
- 共有機能（同大学学生間でデータ共有）
- 実速度測定（speedtest的な実測）
- PWA化（オフライン対応・ホーム画面追加）
- 予測（機械学習）/ 異常検知 / 時間割データ連携

---

## ライセンス

MIT License


